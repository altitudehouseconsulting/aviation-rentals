<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
      ======================================================================
      Altitude House Consulting — Reviews‑Integrated Page (Single‑file HTML)
      ----------------------------------------------------------------------
      • Clean, image‑first layout matching your other Altitude pages
      • Google Reviews section using Places API (no manual Place ID needed)
      • Buttons + fallback link work even if the API fails
      • Mobile‑first, accessible, no build tools required

      HOW TO USE:
        1) Replace YOUR_API_KEY at the bottom with your restricted key
        2) If hosted on GitHub Pages, add referrers like:
           https://<username>.github.io/*  and/or  https://<username>.github.io/<repo>/*
        3) Ensure Maps JavaScript API + Places API are enabled for your key
    ======================================================================
    -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Altitude House Consulting LLC — Reviews</title>
    <meta name="description" content="Altitude House Consulting LLC — Aviation & information services. Read our latest Google reviews and explore our platforms." />

    <!-- ================= Brand & Theme Variables ================= -->
    <style>
      :root{
        --brand-900:#0b1f4a; --brand-800:#132b63; --brand-700:#1e3a8a; --brand-600:#2148a3;
        --brand-500:#2563eb; --brand-400:#3b82f6; --brand-300:#60a5fa; --brand-200:#93c5fd;
        --cyan-500:#0ea5e9;
        --ink-900:#0f172a; --ink-800:#1f2937; --ink-700:#334155; --ink-600:#475569; --ink-500:#64748b;
        --ink-300:#cbd5e1; --ink-200:#e2e8f0; --ink-100:#f1f5f9; --surface:#ffffff; --bg:#f8fafc;
        --radius-xl: 18px; --radius-lg: 14px; --radius-md: 10px; --radius-sm: 8px;
        --shadow-lg: 0 20px 40px rgba(2,6,23,0.12); --shadow-md: 0 10px 20px rgba(2,6,23,0.10); --shadow-sm: 0 4px 10px rgba(2,6,23,0.08);
        --container: 1180px;
      }

      *{box-sizing:border-box}
      html,body{height:100%}
      body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--ink-700);background:var(--bg);line-height:1.6}
      a{color:var(--brand-600);text-decoration:none}
      a:hover{text-decoration:underline}
      img{max-width:100%;display:block;border-radius:var(--radius-lg)}
      .container{width:92%;max-width:var(--container);margin-inline:auto}
      .btn{display:inline-flex;align-items:center;gap:.5rem;border-radius:999px;padding:.72rem 1rem;font-weight:600;text-decoration:none;transition:transform .06s ease,box-shadow .2s ease;cursor:pointer}
      .btn:hover{transform:translateY(-1px);text-decoration:none}
      .btn-primary{background:linear-gradient(135deg,var(--brand-600),var(--brand-400));color:#fff;box-shadow:var(--shadow-md)}
      .btn-outline{border:1.5px solid var(--brand-300);color:var(--brand-700);background:#fff}
      .tag{display:inline-block;padding:.35rem .7rem;border-radius:999px;background:linear-gradient(135deg,var(--brand-200),#e0f2fe);color:var(--brand-700);font-weight:600;font-size:.85rem}
      .pill{display:inline-flex;align-items:center;gap:.35rem;padding:.3rem .6rem;border-radius:999px;background:#eef2ff;color:var(--brand-700);font-weight:600;font-size:.8rem}
      h1,h2,h3{color:var(--ink-900)}

      /* Header */
      header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(180%) blur(8px);background:rgba(255,255,255,.85);border-bottom:1px solid var(--ink-200)}
      .nav{display:flex;align-items:center;justify-content:space-between;padding:.9rem 0}
      .brand{display:flex;align-items:center;gap:.8rem}
      .brand img{width:42px;height:42px;border-radius:12px;object-fit:cover;box-shadow:inset 0 0 0 2px rgba(255,255,255,.7),var(--shadow-sm)}
      .brand .name{font-weight:800;letter-spacing:.1px;color:var(--brand-700)}
      .nav-links{display:flex;gap:1rem;align-items:center}
      .hamburger{display:none;border:0;background:transparent}
      .hamburger span{display:block;width:26px;height:3px;background:var(--brand-700);margin:.32rem 0;border-radius:3px}
      @media (max-width:900px){.nav-links{display:none}.hamburger{display:block}#mobileMenu{display:none;position:absolute;inset:100% 0 auto 0;background:#fff;border-bottom:1px solid var(--ink-200);box-shadow:var(--shadow-sm)}#mobileMenu a{display:block;padding:1rem 1.2rem;border-bottom:1px solid var(--ink-200)}}

      /* Hero */
      .hero{position:relative;padding:5rem 0 3rem;overflow:clip}
      .hero::before{content:"";position:absolute;inset:0;background:
        linear-gradient(180deg,rgba(11,31,74,.78) 10%,rgba(11,31,74,.40) 45%,rgba(248,250,252,.0) 100%),
        url('https://images.unsplash.com/photo-1517976487492-576ea6b2936b?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat; /* Replace with your image */
        filter:saturate(1.05)}
      .hero .content{position:relative;color:#fff;padding-top:1.25rem}
      .eyebrow{font-size:.9rem;letter-spacing:.12em;text-transform:uppercase;opacity:.92}
      h1{font-size:clamp(2rem,5vw,3.2rem);line-height:1.1;margin:.4rem 0 1rem;color:#fff}
      .lead{font-size:clamp(1rem,1.6vw,1.2rem);color:#eef2ff;max-width:60ch}
      .hero-cta{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1.1rem}

      /* Reviews */
      .reviews-wrap{padding:3rem 0}
      .reviews-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1.2rem}
      @media (max-width:900px){.reviews-grid{grid-template-columns:1fr}}
      .quote{border:1px solid var(--ink-200);border-radius:14px;padding:12px;background:#fff;box-shadow:var(--shadow-sm)}
      .avatar{display:flex;align-items:center;gap:.6rem}
      .avatar img{width:40px;height:40px;border-radius:50%;object-fit:cover}

      /* Contact */
      .cta{position:relative;border-radius:var(--radius-xl);padding:1.4rem;background:linear-gradient(135deg,rgba(37,99,235,.12),rgba(14,165,233,.12));border:1px solid var(--brand-200);box-shadow:var(--shadow-md)}

      /* Footer */
      footer{padding:2rem 0 2.6rem;color:var(--ink-600)}
      :focus-visible{outline:3px solid var(--cyan-500);outline-offset:2px;border-radius:6px}
    </style>
  </head>
  <body>
    <!-- ================= Header & Navigation ================= -->
    <header>
      <div class="container nav" role="navigation" aria-label="Main">
        <a class="brand" href="#top" aria-label="Go to top">
          <img src="images/logo.jpg" alt="Altitude House Consulting Logo"/>
          <div class="name">Altitude House Consulting LLC</div>
        </a>
        <nav class="nav-links" aria-label="Primary">
          <a href="#reviews">Reviews</a>
          <a href="#contact">Contact</a>
        </nav>
        <button class="hamburger" id="hamburger" aria-controls="mobileMenu" aria-expanded="false" aria-label="Open menu">
          <span></span><span></span><span></span>
        </button>
      </div>
      <div id="mobileMenu" class="container" role="menu" aria-label="Mobile">
        <a href="#reviews" role="menuitem">Reviews</a>
        <a href="#contact" role="menuitem">Contact</a>
      </div>
    </header>

    <!-- ================= Hero ================= -->
    <section class="hero" id="top" aria-label="Hero">
      <div class="container content">
        <span class="eyebrow">Aviation & Information Services</span>
        <h1>What clients say about Altitude.</h1>
        <p class="lead">Live Google reviews load below. Prefer the source? Use the button to open our listing directly on Google.</p>
        <div class="hero-cta">
          <a class="btn btn-primary" id="reviewsLink" href="https://share.google/mo3TNOXUu2PHMTUBG" target="_blank" rel="noopener">Read our Google reviews</a>
        </div>
      </div>
    </section>

    <!-- ================= Reviews ================= -->
    <section id="reviews" class="reviews-wrap" aria-labelledby="reviews-h">
      <div class="container">
        <span class="tag">Reviews</span>
        <h2 id="reviews-h">Recent Google reviews</h2>
        <div id="reviewsGrid" class="reviews-grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- ================= Contact ================= -->
    <section id="contact" aria-labelledby="contact-h">
      <div class="container">
        <div class="cta">
          <h2 id="contact-h">Questions or a project in mind?</h2>
          <p class="sub">Email <a href="mailto:altitudehouseconsultingllc@gmail.com">altitudehouseconsultingllc@gmail.com</a> and we’ll get back quickly.</p>
          <div class="hero-cta" style="margin-top:.6rem;display:flex;gap:.6rem;flex-wrap:wrap">
            <a class="btn btn-outline" href="mailto:altitudehouseconsultingllc@gmail.com?subject=Altitude%20Inquiry">Email us</a>
            <a class="btn btn-primary" href="#reviews">See reviews</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= Footer ================= -->
    <footer role="contentinfo">
      <div class="container" style="display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap;align-items:center;">
        <div class="brand" style="gap:.6rem;align-items:center;display:flex;">
          <img src="images/logo.jpg" alt="Altitude House Consulting Logo" style="width:38px;height:38px;border-radius:10px;object-fit:cover" />
          <div><strong>Altitude House Consulting LLC</strong><br><small>© <span id="year"></span></small></div>
        </div>
        <nav style="display:flex;gap:.8rem;flex-wrap:wrap">
          <a href="#reviews">Reviews</a>
          <a href="#contact">Contact</a>
        </nav>
      </div>
    </footer>

    <!-- ================= Scripts ================= -->
    <script>
      // Mobile nav toggle + dynamic year
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobileMenu');
      hamburger?.addEventListener('click', () => {
        const open = mobileMenu.style.display === 'block';
        mobileMenu.style.display = open ? 'none' : 'block';
        hamburger.setAttribute('aria-expanded', String(!open));
      });
      mobileMenu?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
        mobileMenu.style.display = 'none';
        hamburger.setAttribute('aria-expanded', 'false');
      }));
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <!-- ===== Google Reviews widget (no manual Place ID) ===== -->
    <script>
      // Enable in Google Cloud: "Maps JavaScript API" + "Places API".
      // Restrict your key by HTTP referrer to your domain.

      const BUSINESS_QUERY = "Altitude House Consulting LLC (Florida)";
      const MAX_REVIEWS = 6;

      function esc(s=""){ return s.replace(/&/g,"&amp;").replace(/</g,"&lt;"); }
      function stars(n){
        const full = Math.floor(n||0), half = (n-full)>=0.5 ? 1 : 0, empty = 5 - full - half;
        return "★".repeat(full) + (half ? "½" : "") + "☆".repeat(empty);
      }

      // Global callback for the API loader
      window.initAltitudeReviews = function () {
        const grid = document.getElementById("reviewsGrid");
        const link = document.getElementById("reviewsLink");
        if (!grid) return;

        const svc = new google.maps.places.PlacesService(document.createElement("div"));

        // Bias search around Central Florida so we pick the right listing
        const locationBias = { center: new google.maps.LatLng(28.6, -81.3), radius: 120000 };

        // 1) Locate the business by name
        svc.findPlaceFromQuery(
          { query: BUSINESS_QUERY, fields: ["place_id","name"], locationBias },
          (results, status) => {
            if (status !== google.maps.places.PlacesServiceStatus.OK || !results?.length) {
              grid.innerHTML = `<p style="color:#b91c1c">Couldn’t find the Google listing for “${esc(BUSINESS_QUERY)}”.</p>`;
              return;
            }
            const placeId = results[0].place_id;

            // 2) Fetch details (including reviews)
            svc.getDetails(
              { placeId, fields: ["name","url","rating","user_ratings_total","reviews"] },
              (place, s2) => {
                if (s2 !== google.maps.places.PlacesServiceStatus.OK || !place) {
                  grid.innerHTML = `<p style=\"color:#b91c1c\">Couldn’t load Google reviews.</p>`;
                  return;
                }

                if (link && place.url) link.href = place.url; // update the button to official URL

                const reviews = (place.reviews || [])
                  .sort((a,b) => (b.time||0) - (a.time||0))
                  .slice(0, MAX_REVIEWS);

                if (!reviews.length) {
                  grid.innerHTML = `<p style=\"color:#64748b\">No reviews available yet.</p>`;
                  return;
                }

                grid.innerHTML = reviews.map(r => `
                  <article class=\"quote\">
                    <p style=\"margin:.2rem 0 .5rem\">
                      <strong style=\"color:#1e3a8a\">${stars(r.rating)}</strong>
                      <span style=\"color:#64748b\"> • ${new Date((r.time||0)*1000).toLocaleDateString()}</span>
                    </p>
                    <p style=\"margin:.2rem 0 .6rem\">${esc(r.text||"")}</p>
                    <div class=\"avatar\">
                      <img src=\"${r.profile_photo_url||""}\" alt=\"\" />
                      <div>
                        <div style=\"font-weight:700;color:#0f172a\">${esc(r.author_name||"Google user")}</div>
                        <div style=\"font-size:.9rem;color:#64748b\">${esc(r.relative_time_description||"")}</div>
                      </div>
                    </div>
                  </article>
                `).join("");
              }
            );
          }
        );
      };
    </script>

    <!-- Load Maps JS + Places and run the callback above -->
    <script async src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&callback=initAltitudeReviews"></script>
  </body>
</html>
